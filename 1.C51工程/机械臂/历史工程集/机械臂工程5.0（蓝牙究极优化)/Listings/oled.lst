C51 COMPILER V9.57.0.0   OLED                                                              12/08/2021 15:09:08 PAGE 1   


C51 COMPILER V9.57.0.0, COMPILATION OF MODULE OLED
OBJECT MODULE PLACED IN .\Objects\oled.obj
COMPILER INVOKED BY: D:\keil5B\C51\BIN\C51.EXE oled.c COMPACT OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listin
                    -gs\oled.lst) TABS(2) OBJECT(.\Objects\oled.obj)

line level    source

   1          #include "oled.h"
   2          /****************************************************/
   3          void Initial_LY096BG30();
   4          void Delay_50ms(unsigned int Del_50ms);
   5          void Delay_1ms(unsigned int Del_1ms);
   6          void fill_picture(unsigned char fill_Data);
   7          void Picture_1();
   8          void IIC_Start();
   9          void IIC_Stop();
  10          void Write_IIC_Command(unsigned char IIC_Command);
  11          void Write_IIC_Data(unsigned char IIC_Data);
  12          void Write_IIC_Byte(unsigned char IIC_Byte);
  13          /***********************Initial codeä¸»åˆå§‹åŒ–å±å¹•*********************/
  14          void Initial_LY096BG30()
  15          {
  16   1          Write_IIC_Command(0xAE); //display offï¼ˆå…³æ˜¾ç¤ºï¼‰||0xAEå…³é—­å±å¹•
  17   1                                   /*â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”*/
  18   1          Write_IIC_Command(0x20); //Set Memory Addressing Modeï¼ˆè®¾ç½®å†…å­˜å¯»å€æ¨¡å¼ï¼‰
  19   1          Write_IIC_Command(0x10); //ï¼ˆ00ï¼Œæ°´å¹³å¯»å€æ¨¡å¼ï¼›01ï¼Œå‚ç›´å¯»å€æ–¹å¼ï¼›10ã€é¡µé¢å¯»å€æ¨¡
             -å¼ï¼ˆå¤ä½ï¼‰ï¼›11ï¼Œæ— æ•ˆï¼‰
  20   1                                   //00,Horizontal Addressing Mode;01,Vertical Addressing Mode;10,Page Addressin
             -g Mode (RESET);11,Invalid
  21   1                                   /*â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”*/
  22   1          Write_IIC_Command(0xb0); /*(è®¾ç½®é¡µé¢å¯»å€æ¨¡å¼çš„é¡µé¢èµ·å§‹åœ°å€ï¼Œ0-7)
  23   1                                      Set Page Start Address for Page Addressing Mode,0-7*/
  24   1                                   /*â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”*/
  25   1          Write_IIC_Command(0xc8); //(è®¾ç½®COMè¾“å‡ºæ‰«ææ–¹å‘)Set COM Output Scan Direction
  26   1                                   /*â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”*/
  27   1          Write_IIC_Command(0x00); //---(è®¾ç½®ä½åˆ—åœ°å€)set low column address
  28   1          Write_IIC_Command(0x10); //---(è®¾ç½®é«˜åˆ—åœ°å€)set high column address
  29   1          Write_IIC_Command(0x40); //--ï¼ˆè®¾ç½®èµ·å§‹è¡Œåœ°å€ï¼‰set start line address
  30   1                                   /*â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”*/
  31   1          Write_IIC_Command(0x81); //--ï¼ˆè®¾ç½®å¯¹æ¯”åº¦æ§åˆ¶å¯„å­˜å™¨ï¼‰set contrast control register
  32   1          Write_IIC_Command(0x7f); /*è®¾ç½®å¯¹æ¯”åº¦ ï¼ˆ81H+A[7:0]ï¼‰
  33   1                                        è¿™æ˜¯ä¸€æ¡åŒå­—èŠ‚æŒ‡ä»¤ï¼Œç”±ç¬¬äºŒæ¡æŒ‡ä»¤æŒ‡å®šè¦è®¾ç½®çš„å¯¹æ¯”åº¦çº§æ•°ã€‚
  34   1                                        A[7:0] ä» 00H~FFH åˆ†åˆ«æŒ‡å®šå¯¹æ¯”åº¦ä¸º 1~256 çº§ã€‚SEGï¼ˆæ®µï¼‰
  35   1                                        è¾“å‡ºçš„ç”µæµå¤§å°éšå¯¹æ¯”åº¦çº§æ•°çš„å¢åŠ è€Œå¢åŠ ã€‚*/
  36   1                                   /*â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
C51 COMPILER V9.57.0.0   OLED                                                              12/08/2021 15:09:08 PAGE 2   

             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”*/
  37   1          Write_IIC_Command(0xa1); //--ï¼ˆå°†æ®µé‡æ–°æ˜ å°„0è®¾ç½®ä¸º127ï¼‰set segment re-map 0 to 127
  38   1                                   /*â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”*/
  39   1          Write_IIC_Command(0xa6); //--ï¼ˆè®¾ç½®æ­£å¸¸æ˜¾ç¤ºï¼‰set normal display
  40   1                                   /*â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”*/
  41   1          Write_IIC_Command(0xa8); //--ï¼ˆè®¾ç½®å¤šè·¯å¤ç”¨æ¯”ç‡ï¼ˆ1åˆ°64ï¼‰ï¼‰set multiplex ratio(1 to 64)
  42   1          Write_IIC_Command(0x3F); /*è®¾ç½®å¤ç”¨ç‡ ï¼ˆA8H+A[5:0]ï¼‰
  43   1                                        è¿™æ˜¯ä¸€æ¡åŒå­—èŠ‚æŒ‡ä»¤ï¼Œç”±A[5:0]æŒ‡å®šè¦è®¾ç½®çš„å¤ç”¨ç‡
  44   1                                        å¤ç”¨ç‡ï¼ˆMUX ratioï¼‰å³é€‰é€šçš„COMè¡Œæ•°ï¼Œä¸èƒ½ä½äº16ï¼Œ
  45   1                                        é€šè¿‡A[5:0]æ¥æŒ‡å®šã€‚
  46   1                                        A[5:0] é«˜ä¸¤ä½æ— è§„å®šè§†ä¸º0ï¼Œæ‰€ä»¥ç¬¬äºŒæ¡æŒ‡ä»¤ä» 0FH~3FH 
  47   1                                        çš„å–å€¼è®¾ç½®å¤ç”¨ç‡ä¸º 1~64ï¼ˆå³A[5:0]+1ï¼‰ã€‚A[5:0]ä»0åˆ°14çš„å–å€¼éƒ½æ˜¯æ— æ•ˆç
             -š„ã€‚*/
  48   1                                   /*â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”*/
  49   1          Write_IIC_Command(0xa4); //ï¼ˆ0xa4ï¼Œè¾“å‡ºè·ŸéšRAMå†…å®¹ï¼›0xa5ï¼Œè¾“å‡ºå¿½ç•¥RAMå†…å®¹ï¼‰0xa4,Outpu
             -t follows RAM content;0xa5,Output ignores RAM content
  50   1          Write_IIC_Command(0xd3); //-ï¼ˆè®¾ç½®æ˜¾ç¤ºåç§»é‡ï¼‰set display offset
  51   1          Write_IIC_Command(0x00); //-ï¼ˆæ²¡æœ‰åç§»é‡ï¼‰not offset
  52   1                                   /*â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”*/
  53   1          Write_IIC_Command(0xd5); //--ï¼ˆè®¾ç½®æ˜¾ç¤ºæ—¶é’Ÿåˆ†é¢‘æ¯”/æŒ¯è¡å™¨é¢‘ç‡Cï¼‰set display clock divid
             -e ratio/oscillator frequency
  54   1          Write_IIC_Command(0xf0); //--ï¼ˆè®¾å®šåˆ†å‰²æ¯”ç‡ï¼‰set divide ratio
  55   1                                   /*â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”*/
  56   1          Write_IIC_Command(0xd9); //--ï¼ˆè®¾ç½®é¢„å……ç”µå‘¨æœŸ ï¼ˆD9H+A[7:0]ï¼‰ï¼‰set pre-charge period
  57   1          Write_IIC_Command(0x22); //
  58   1                                   /*â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”*/
  59   1          Write_IIC_Command(0xda); //--ï¼ˆè®¾ç½®comå¼•è„šç¡¬ä»¶é…ç½®ï¼‰set com pins hardware configuration
  60   1          Write_IIC_Command(0x12); /*6.è®¾ç½®COMç¡¬ä»¶é…ç½® ï¼ˆDAH+A[5:4]ï¼‰
  61   1                                        è¿™æ˜¯ä¸€æ¡åŒå­—èŠ‚æŒ‡ä»¤ï¼Œç”±A[5:4]è¿›è¡Œè®¾ç½®ã€‚
  62   1                                        A[5] ä½è®¾ç½®COMå·¦å³åç½®ï¼ŒA[4] ç”¨æ¥è®¾ç½®åºåˆ—/å¤‡é€‰å¼•è„šé…ç½®ï¼Œå…¶ä»–ä½æœ‰
             -è§„å®šï¼Œ*/
  63   1                                   /*â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”*/
  64   1          Write_IIC_Command(0xdb); //--ï¼ˆ3.è®¾ç½®VCOMHè¾“å‡ºçš„é«˜ç”µå¹³ ï¼ˆDBH+A[6:4]ï¼‰ï¼‰set vcomh
  65   1          Write_IIC_Command(0x20); //0x20,0.77xVcc
  66   1                                   /*â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
             -â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”*/
  67   1          Write_IIC_Command(0x8d); //--ï¼ˆä½¿èƒ½DC-DCæ¨¡å—ï¼‰set DC-DC enable
  68   1          Write_IIC_Command(0x14); //
C51 COMPILER V9.57.0.0   OLED                                                              12/08/2021 15:09:08 PAGE 3   

  69   1          Write_IIC_Command(0xaf); //--ï¼ˆæ‰“å¼€oledé¢æ¿ï¼‰turn on oled panel
  70   1      }
  71          /**********************************************
  72          //IIC Start
  73          **********************************************/
  74          void IIC_Start()
  75          {
  76   1          SCL = high;
  77   1          //Delay_us(1);
  78   1          SDA = high;
  79   1          //Delay_us(1);
  80   1          SDA = low;
  81   1          // Delay_us(1);
  82   1          SCL = low;
  83   1          // Delay_us(1);
  84   1      }
  85          /**********************************************
  86          //IIC Stop
  87          **********************************************/
  88          void IIC_Stop()
  89          {
  90   1          SCL = low;
  91   1          //Delay_us(1);
  92   1          SDA = low;
  93   1          //Delay_us(1);
  94   1          SCL = high;
  95   1          //Delay_us(1);
  96   1          SDA = high;
  97   1          //Delay_us(1);
  98   1      }
  99          /**********************************************
 100          // IIC Write byte
 101          **********************************************/
 102          void Write_IIC_Byte(unsigned char IIC_Byte)
 103          {
 104   1          unsigned char i;
 105   1          for (i = 0; i < 8; i++)
 106   1          {
 107   2              if (IIC_Byte & 0x80) //1?0?
 108   2                  SDA = high;
 109   2              else
 110   2                  SDA = low;
 111   2              //Delay_us(1);
 112   2              SCL = high;
 113   2              //Delay_us(1);
 114   2              SCL = low;
 115   2              //Delay_us(1);
 116   2              IIC_Byte <<= 1; //loop
 117   2          }
 118   1          SDA = 1;
 119   1          //Delay_us(1);
 120   1          SCL = 1;
 121   1          //Delay_us(1);
 122   1          SCL = 0;
 123   1          //Delay_us(1);
 124   1      }
 125          /**********************************************
 126          // IIC Write Command
 127          **********************************************/
 128          void Write_IIC_Command(unsigned char IIC_Command)
 129          {
 130   1          IIC_Start();
C51 COMPILER V9.57.0.0   OLED                                                              12/08/2021 15:09:08 PAGE 4   

 131   1          Write_IIC_Byte(0x78); //Slave address,SA0=0
 132   1          Write_IIC_Byte(0x00); //write command
 133   1          Write_IIC_Byte(IIC_Command);
 134   1          IIC_Stop();
 135   1      }
 136          /**********************************************
 137          // IIC Write Data
 138          **********************************************/
 139          void Write_IIC_Data(unsigned char IIC_Data)
 140          {
 141   1          IIC_Start();
 142   1          Write_IIC_Byte(0x78);
 143   1          Write_IIC_Byte(0x40); //write data
 144   1          Write_IIC_Byte(IIC_Data);
 145   1          IIC_Stop();
 146   1      }
 147          /********************************************
 148          // fill_Picture
 149          ********************************************/
 150          void fill_picture(unsigned char fill_Data)
 151          {
 152   1          unsigned char m, n;
 153   1          for (m = 0; m < 8; m++)
 154   1          {
 155   2              Write_IIC_Command(0xb0 + m); //page0-page1
 156   2              Write_IIC_Command(0x00);     //ä½ åˆ— èµ·å§‹åœ°å€
 157   2              Write_IIC_Command(0x10);     //é«˜åˆ— èµ·å§‹åœ°å€
 158   2              for (n = 0; n < 128; n++)
 159   2              {
 160   3                  Write_IIC_Data(fill_Data);
 161   3              }
 162   2          }
 163   1      }
 164          /******************************************
 165          // picture
 166          ******************************************/
 167          /* å‡½æ•°åç§°ï¼šdisplay(unsigned char x, unsigned char y, unsigned char *hok)
 168          è¾“å…¥ï¼šx,yåæ ‡ï¼Œè¦æ˜¾ç¤ºçš„å­—ç¬¦(hok)
 169          è¾“å‡ºï¼šæ— 
 170          åŠŸèƒ½ï¼šåœ¨(x,y)ä¸Šæ˜¾ç¤ºå¯¹åº”å­—ç¬¦hok(ä¸€ä¸ª)
 171          å¤‡æ³¨ï¼šx=(0~7);
 172                y=(0~7);
 173                hok[]=8x8(åƒç´ )
 174           */
 175          void display(unsigned char x, unsigned char y, unsigned char hok[][8],int num)
 176          { //x=0~7;y=0~7;hokåƒç´ =8x8
 177   1          int ten=0;
 178   1          int n=0;
 179   1            unsigned int i = 0; 
 180   1          ten=num/10;
 181   1          n=num%10;
 182   1          Write_IIC_Command(0xb0 + y); //
 183   1          Write_IIC_Command(0x00 + x);
 184   1          Write_IIC_Command(0x10 + x);
 185   1          for (i = 0; i < 8; i++)
 186   1          {
 187   2              Write_IIC_Data(hok[ten][i]);
 188   2          }
 189   1          for (i = 0; i < 8; i++)
 190   1          {
 191   2              Write_IIC_Data(hok[n][i]);
 192   2          }
C51 COMPILER V9.57.0.0   OLED                                                              12/08/2021 15:09:08 PAGE 5   

 193   1      }
 194          /***********************Delay****************************************/
 195          void Delay_50ms(unsigned int Del_50ms) //
 196          {
 197   1          unsigned int m;
 198   1          for (; Del_50ms > 0; Del_50ms--)
 199   1              for (m = 6245; m > 0; m--)
 200   1                  ;
 201   1      }
 202          void Delay_1ms(unsigned int Del_1ms) //
 203          {
 204   1          unsigned char j;
 205   1          while (Del_1ms--)
 206   1          {
 207   2              for (j = 0; j < 123; j++)
 208   2                  ;
 209   2          }
 210   1      }
 211          /*******************************Main*******************************/
 212          /* å‡½æ•°åç§°ï¼šoledInit(void)
 213          è¾“å…¥ï¼šæ— 
 214          è¾“å‡ºï¼šæ— 
 215          åŠŸèƒ½ï¼šåˆå§‹åŒ–oledå±å¹•
 216          å¤‡æ³¨ï¼šæ— 
 217           */
 218          void oledInit(void)
 219          {
 220   1          Initial_LY096BG30(); //åˆå§‹åŒ–å±å¹•
 221   1          Delay_1ms(5);
 222   1          fill_picture(0x00); //æ¸…å±
 223   1      }
 224          /* void main(void)
 225          // {
 226          //    oledInit
 227          
 228          //     while (1)
 229          //     {
 230          //         display(7, 4, show1);
 231          //     }
 232          // }
 233          */


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    559    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----      13
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
