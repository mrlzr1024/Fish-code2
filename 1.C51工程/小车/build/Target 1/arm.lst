C51 COMPILER V9.57.0.0   ARM                                                               12/11/2021 19:35:59 PAGE 1   


C51 COMPILER V9.57.0.0, COMPILATION OF MODULE ARM
OBJECT MODULE PLACED IN .\build\Target 1\arm.o
COMPILER INVOKED BY: D:\keil5B\C51\BIN\C51.exe .\ARM.C PRINT(.\build\Target 1\arm.lst) OMF2 TABS(4) CODE NOCOND SYMBOLS 
                    -OPTIMIZE(8,SPEED) SMALL ROM(LARGE) INCDIR(D:\keil5B\C51\INC\Atmel;D:\keil5B\C51\INC) DEFINE(__UVISION_VERSION=526) OBJEC
                    -T(.\build\Target 1\arm.o)

line level    source

   1          /*
   2           * @Author: your name
   3           * @Date: 2021-11-17 07:31:44
   4           * @LastEditTime: 2021-11-21 09:08:10
   5           * @LastEditors: Please set LastEditors
   6           * @Description: ÊâìÂºÄkoroFileHeaderÊü•ÁúãÈÖçÁΩÆ ËøõË°åËÆæÁΩÆ: https://github.com/OBKoro1/koro1FileHeader
             -/wiki/%E9%85%8D%E7%BD%AE
   7           * @FilePath: \Êú∫Ê¢∞ËáÇ\arm.c
   8           */
   9          #include <reg52.h>
  10          //#include "engine.h"
  11          #include "key.h"//Áü©ÈòµÈîÆÁõò
  12          #include "oled.h"
  13          #include "Uart.h"//ËìùÁâôËØÜÂà´
  14          #include "TuringServo.h"
  15          sbit sw=P2^7;
  16          unsigned char code di_09[][8]={//0~9
  17          {0x00,0x3E,0x41,0x41,0x41,0x41,0x3E,0x00}//"0",0
  18          /* (8 X 8 , Êñ∞ÂÆã‰Ωì ) */
  19          ,{0x00,0x00,0x00,0x00,0x41,0x7F,0x00,0x00}//"1",1
  20          /* (8 X 8 , Êñ∞ÂÆã‰Ωì ) */
  21          ,{0x00,0x00,0x42,0x61,0x51,0x49,0x49,0x46}//"2",2
  22          /* (8 X 8 , Êñ∞ÂÆã‰Ωì ) */
  23          ,{0x00,0x00,0x22,0x41,0x41,0x49,0x4F,0x32}//"3",3
  24          /* (8 X 8 , Êñ∞ÂÆã‰Ωì ) */
  25          ,{0x00,0x00,0x18,0x14,0x12,0x51,0x7F,0x00}//"4",4
  26          /* (8 X 8 , Êñ∞ÂÆã‰Ωì ) */
  27          ,{0x00,0x2E,0x49,0x45,0x45,0x49,0x39,0x00}//"5",5
  28          /* (8 X 8 , Êñ∞ÂÆã‰Ωì ) */
  29          ,{0x00,0x3E,0x49,0x45,0x45,0x49,0x38,0x00}//"6",6
  30          /* (8 X 8 , Êñ∞ÂÆã‰Ωì ) */
  31          ,{0x00,0x03,0x01,0x71,0x09,0x07,0x01,0x00}//"7",7
  32          /* (8 X 8 , Êñ∞ÂÆã‰Ωì ) */
  33          ,{0x00,0x36,0x4D,0x49,0x49,0x49,0x36,0x00}//"8",8
  34          /* (8 X 8 , Êñ∞ÂÆã‰Ωì ) */
  35          ,{0x00,0x4E,0x49,0x51,0x51,0x29,0x1E,0x00}//"9",9
  36          /* (8 X 8 , Êñ∞ÂÆã‰Ωì ) */
  37          };
  38          unsigned char code di_abcd[][8]={//a~d,'on','off'
  39          {0x00,0x68,0x54,0x54,0x54,0x38,0x40,0x40}//"a",0
  40          /* (8 X 8 , Êñ∞ÂÆã‰Ωì ) */
  41          
  42          ,{0x00,0x00,0x7F,0x48,0x44,0x44,0x44,0x38}//"b",1
  43          /* (8 X 8 , Êñ∞ÂÆã‰Ωì ) */
  44          
  45          ,{0x00,0x00,0x38,0x44,0x44,0x44,0x48,0x28}//"c",2
  46          /* (8 X 8 , Êñ∞ÂÆã‰Ωì ) */
  47          
  48          ,{0x00,0x00,0x38,0x44,0x44,0x44,0x44,0x7F}//"d",3
  49          /* (8 X 8 , Êñ∞ÂÆã‰Ωì ) */
  50          ,{0x00,0x38,0x54,0x54,0x54,0x54,0x18,0x00}//"e",4
  51          /* (8 X 8 , Êñ∞ÂÆã‰Ωì ) */
  52          
C51 COMPILER V9.57.0.0   ARM                                                               12/11/2021 19:35:59 PAGE 2   

  53          ,{0x00,0x00,0x04,0x44,0x7E,0x45,0x05,0x01}//"f",5
  54          /* (8 X 8 , Êñ∞ÂÆã‰Ωì ) */
  55          
  56          ,{0x00,0x00,0x38,0x44,0x44,0x44,0x38,0x00}//"o",6
  57          /* (8 X 8 , ÂÆã‰Ωì ) */
  58          
  59          ,{0x00,0x04,0x7C,0x08,0x04,0x04,0x78,0x00}//"n",7
  60          /* (8 X 8 , ÂÆã‰Ωì ) */
  61          
  62          ,{0x10,0xFE,0x12,0x00,0x10,0xFE,0x12,0x00}//"ff"8
  63          };
  64          unsigned char code show1[][8] ={//‚ÄúÂá∏‚Äù
  65                  0x78, 0x4E, 0x42, 0x42, 0x42, 0x42, 0x4E, 0x78
  66          };
  67          void delay(void) {//Âª∂Êó∂1s
  68   1          unsigned char a, b, c;
  69   1          for (c = 167; c > 0; c--)
  70   1              for (b = 171; b > 0; b--)
  71   1                  for (a = 16; a > 0; a--)
  72   1                      ;
  73   1      }
  74          void main(void){
  75   1          int mode=0;//Âì™‰ΩçËàµÊú∫
  76   1          int key=0;//‰º†ÂõûÊù•ÁöÑÊï∞ÊçÆ
  77   1          int a=0;//ËàµÊú∫ËßíÂ∫¶
  78   1          int tmp=0;
  79   1          int i=0,j=0;
  80   1          int now[3];//ËÆ∞ÂΩïÊú∫Ê¢∞ËáÇÁé∞ÂßøÊÄÅ   0,1,2,3
  81   1          int  m[2][50];//ÂÇ®Â≠òËàµÊú∫Áä∂ÊÄÅ
  82   1          int swich=0;//Á°ÆËÆ§Ê®°ÂºèÁöÑÂºÄÂÖ≥‰Ωç
  83   1          TMOD=0x00;
  84   1          oledInit();
  85   1          Uart_init();//ÂàùÂßãÂåñ‰∏≤Âè£
  86   1          display(0,0,di_abcd,67);//Â∞±Áª™Ê†áÂøó//==========ÊòæÁ§∫-'on'(0,0)
  87   1          while (1){
  88   2                  /*=============================================================================*/
  89   2              if(sw==0){
  90   3                  key=key4x4(); //Áü©ÈòµÈîÆÁõòËØÜÂà´
  91   3                  display(4,0,di_abcd,68);
  92   3              }
  93   2      //          key=BluetoothGet();//ËìùÁâôËØÜÂà´
  94   2                  if(sw==1){
  95   3                  key=    BluetoothGetOnce();//ËìùÁâôÊåÅÁª≠ËØÜÂà´
  96   3                  display(4,0,di_abcd,67);
  97   3                  }
  98   2                      if(key!=-1)display(2,0,di_09,key);//==========ÊòæÁ§∫ y=0 ÈîÆÁöÑÂÄº(1,0)
  99   2                  /*key=0~3*/if(key>=0&&key<=3){mode=key;}//ËØÜÂà´Âì™‰∏Ä‰ΩçËàµÊú∫„ÄêÁ¨¨(mode)‰Ωç„Äë
 100   2                  /*=============================================================================*/
 101   2                  /*ËÆ∞ÂøÜÂÇ®Â≠òkey==7*/if(key==7){
 102   3                  m[0][j]=mode;//ÂÇ®Â≠òËàµÊú∫‰Ωç
 103   3                  m[1][j]=a;//ÂÇ®Â≠òËßíÂ∫¶
 104   3                  display(0,1,di_09,m[0][j]);//==========ÊòæÁ§∫-y=1ËàµÊú∫‰Ωç
 105   3                  display(3,1,di_09,j);//==========ÊòæÁ§∫-x=3,y=1ÂÇ®Â≠òÁöÑÊ∂≤Èù¢ËÆ°
 106   3                  display(0,2,di_09,m[1][j]/100);//==========ÊòæÁ§∫-x=1,y=2ËßíÂ∫¶ÁöÑÂçÉÔºåÁôæ‰Ωç
 107   3                  display(1,2,di_09,m[1][j]%100);//==========ÊòæÁ§∫-x=1,y=2ËßíÂ∫¶ÁöÑ‰∏™ÔºåÂçÅ‰Ωç
 108   3                  i++;
 109   3                  j++;
 110   3                  if(i>=8){i=0;}//Èò≤Ê≠¢OLEDÊ∫¢Âá∫
 111   3                  if(j>=50){j=0;}//‰∏ÄÂÖ±ÂèØ‰ª•ÂÇ®Â≠ò50‰∏™Âä®‰ΩúÔºåÈò≤Ê≠¢ËÆ∞ÂøÜÊ∫¢Âá∫
 112   3                  } 
 113   2                  /*=============================================================================*/
 114   2                      /*ËÆ∞ÂøÜËæìÂá∫key==6*/if(key==6){
C51 COMPILER V9.57.0.0   ARM                                                               12/11/2021 19:35:59 PAGE 3   

 115   3                          j--;
 116   3                          while(j>=0){
 117   4                                          mode=m[0][j];//ÊèêÂèñËàµÊú∫‰Ωç
 118   4                                          a=m[1][j];//ÊèêÂèñËßíÂ∫¶
 119   4      /*                      for(tmp=0;tmp<7;tmp++){//forËØ≠Âè•Áî®‰∫éÁ°Æ‰øùËàµÊú∫ËÉΩÂä®Âà∞ÊåáÂÆö‰ΩçÁΩÆ(Áõ¥Êé•ËµãÂÄºÊ≥ï)
 120   4      //                                  moves1(4,a,mode);//Áõ¥Êé•ËµãÂÄºÊ≥ï
 121   4      //                      }*/
 122   4                                          moves2(now[mode],a,mode);//ÊØîËæÉÂΩìÂâçÂßøÊÄÅ‰∏éÁõÆÊ†áÂßøÊÄÅÂπ∂ÂáèÈÄüËøêÂä®(ÈÄíËøõËµãÂÄºÊ≥ï)
 123   4                                          now[mode]=a;//Êõ¥Êñ∞ÂΩìÂâçÂßøÊÄÅ
 124   4                                          display(0,3,di_09,mode);//==========ÊòæÁ§∫-y=3ËæìÂá∫ËàµÊú∫‰Ωç(0,3)
 125   4                                          display(3,3,di_09,j);//==========ÊòæÁ§∫-x=3,y=3ËæìÂá∫ÁöÑÊ∂≤Èù¢ËÆ°
 126   4                                          display(0,4,di_09,a/100);//==========ÊòæÁ§∫-y=4ËæìÂá∫ËßíÂ∫¶ÁöÑÂçÉÔºåÁôæ‰Ωç
 127   4                                          display(1,4,di_09,a%100);//==========ÊòæÁ§∫-x=1,y=2ËßíÂ∫¶ÁöÑ‰∏™ÔºåÂçÅ‰Ωç
 128   4                                              j--;
 129   4                                              delay();
 130   4                          }
 131   3                          j=0;
 132   3                          i=0;
 133   3                      }
 134   2                  /*=============================================================================*/
 135   2                      /*Á°ÆËÆ§Ê®°Âºèkey==8*///---‰∏ÄÂä®‰∏çÂä® swich=0Êó∂ÂêØÂä®
 136   2                      if(key==8){ 
 137   3                                          if(swich==1){swich=0;display(0,5,di_abcd,68);}//==========swich==1,ÊòæÁ§∫-y=5ÂÖ≥Èó≠-off
 138   3                                          else if(swich==0){swich=1;display(0,5,di_abcd,67);}//==========swich==0,ÊòæÁ§∫-y=5ÂêØÂä®-on
 139   3                              }
 140   2                  /*=============================================================================*/
 141   2                  /*key=4~5ÂìçÂ∫îÊ®°Âºè(on)*/if(key==4&&swich==1){a=moves1(4,a,mode);now[mode]=a;}//Ê≠£ËΩ¨
 142   2                  else if(key==5&&swich==1){a=moves1(5,a,mode);now[mode]=a;}//ÂèçËΩ¨
 143   2                  /*=============================================================================*/
 144   2                  /*key=4~5‰∏çÂìçÂ∫îÊ®°Âºè(off)*/if(key==4&&swich==0){a+=50;if(a>2000){a=2000;}}//Ê≠£ËΩ¨
 145   2                  else if(key==5&&swich==0){a-=50;if(a<0){a=0;}}//ÂèçËΩ¨
 146   2                  /*=============================================================================*/
 147   2                  /*ÁõëËßÜÂô®‚Äîmod,a*/
 148   2                  display(0,6,di_09,mode);//==========ÊòæÁ§∫-y=6ËàµÊú∫‰Ωç
 149   2                  display(0,7,di_09,a/100);//==========ÊòæÁ§∫-y=7ËæìÂá∫ËßíÂ∫¶ÁöÑÂçÉÔºåÁôæ‰Ωç
 150   2                  display(1,7,di_09,a%100);//==========ÊòæÁ§∫-x=1,y=7ËßíÂ∫¶ÁöÑ‰∏™ÔºåÂçÅ‰Ωç
 151   2                  /*=============================================================================*/
 152   2                  if(key==9){fill_picture(0x00);  display(0,0,di_abcd,67);}//key==9Êó∂Ê∏ÖÂ±è//Â∞±Áª™Ê†áÂøó//==========‰πãÂ
             -êéÂè™ÊòæÁ§∫-'on'(0,0)
 153   2              }
 154   1              }           
*** ERROR C241 IN LINE 154 OF .\ARM.C: 'main': auto segment too large
 155          
 156                  
 157                  

C51 COMPILATION COMPLETE.  0 WARNING(S),  1 ERROR(S)
